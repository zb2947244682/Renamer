# 文件批量重命名工具

这是一个简单的Python程序，用于递归重命名指定目录下的所有文件，根据文件名首字母或拼音首字母添加前缀。

## 功能

- 递归处理指定目录下的所有文件
- 自动识别中文文件名，使用拼音首字母作为前缀
- 非中文文件名使用首字母作为前缀
- 支持预览模式，可以在实际重命名前查看效果
- 自动检测并移除已有的字母前缀，防止重复添加
- 自动记录重命名操作日志，保存到程序目录下的log.txt文件

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

```bash
python renamer.py [-d 目录路径] [-p]
```

### 参数说明

- `-d`, `--directory`: 指定要处理的目录路径（默认: D:\Roms\ExcellentRoms）
- `-p`, `--preview`: 预览模式，不实际重命名文件，仅显示将要进行的更改

### 示例

使用默认目录:
```bash
python renamer.py
```

指定目录:
```bash
python renamer.py -d "D:\我的文件\游戏"
```

预览模式:
```bash
python renamer.py -p
```

## 重命名规则

- 例如: `牧场物语.gba` 将被重命名为 `M 牧场物语.gba`（M是"牧"的拼音首字母）
- 例如: `Final Fantasy.iso` 将被重命名为 `F Final Fantasy.iso`
- 如果文件已经有前缀，如 `Z 战神.iso`，程序会先移除旧前缀，然后添加正确的前缀: `Z 战神.iso` -> `Z 战神.iso`

## 日志记录

程序运行时会自动记录所有操作，并将日志保存到程序所在目录下的`log.txt`文件中。日志内容包括：

- 开始和结束时间
- 处理目录
- 运行模式（预览或实际重命名）
- 每个文件的处理结果
- 操作统计信息（总耗时、处理文件数量）

每次运行程序时，日志文件会被覆盖 